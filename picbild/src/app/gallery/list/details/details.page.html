<ion-header>
  <ion-toolbar mode="ios">
    <ion-buttons slot="start">
      <ion-back-button (click)="navCtrl.navigateForward(['/list', post.type])"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ isLoading ? 'Loading...' : post.title }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div text-center *ngIf="isLoading">
    <ion-spinner color="primary"></ion-spinner>
  </div>
  <ion-grid no-padding *ngIf="!isLoading">
    <ion-row>
      <ion-col size-sm="6" offset-sm="3" no-padding>
        <ion-img [src]="post.imageUrl"></ion-img>
      </ion-col>
    </ion-row>
    <!-- <ion-row>
      <ion-col size-sm="6" offset-sm="3" text-center padding>
        <p>{{ post.title }}</p>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3" padding text-center>
        <p>{{ post.user }}</p>
      </ion-col>
    </ion-row>


    
    <ion-chip color="light">
      <ion-avatar>
        <img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y">
      </ion-avatar>
      <ion-label>Chip Avatar</ion-label>
    </ion-chip> -->

    <ion-list padding>
      <ion-list-header>
        Info:
      </ion-list-header>

      <ion-item>
        <ion-avatar slot="start">
          <img [src]="post.user.imageUrl">
        </ion-avatar>
        <ion-label>
          <h2>Subido por {{post.user.profile ? post.user.profile : 'falta cargar usuario'}}</h2>
          <!-- <h3>I'm a big deal</h3>
          <p>Listen, I've had a pretty messed up day...</p> -->
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-thumbnail slot="start" color="light" style="width: 40px; height: 40px">
          <img src="/assets/img/calendar-sharp.png">
        </ion-thumbnail>
        <ion-label>
          <h2>Fecha de carga:</h2>
          <!-- <h3>Look, kid...</h3> -->
          <p style="font-weight: 800">{{post.date | date: 'medium'}}</p>
        </ion-label>
      </ion-item>
    </ion-list>

    <ion-row padding text-center>
      <ion-col *ngIf="!isLoading">
        <ion-button *ngIf="!voted" mode="ios" expand="block" (click)="onVote()">Votar</ion-button>
        <ion-button color="danger" *ngIf="voted" mode="ios" expand="block" (click)="onCancelVote()">Cancelar voto</ion-button>
      </ion-col>
    </ion-row>

  </ion-grid>
</ion-content>

